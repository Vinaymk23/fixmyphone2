<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Expert Phone Repair with Free Pick-up & Delivery in Mysore | fixmyPhone
    </title>
    <meta
      name="description"
      content="fixmyPhone offers expert phone repair in Mysore with free, convenient doorstep pick-up and delivery. We fix screens, batteries, water damage and more for all major brands. Get a free quote now!"
    />
    <meta
      name="keywords"
      content="mobile repair Mysore, phone repair Mysore, screen replacement, battery replacement, fixmyPhone Mysore, charging port repair, water damage repair, smartphone service Mysore, phone repair pickup and delivery"
    />

    <!-- SEO Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "fixmyPhone",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Mysore",
          "addressRegion": "Karnataka",
          "postalCode": "570009",
          "streetAddress": "# 2259, Bogadhi 2nd stage"
        },
        "telephone": "+918310061934",
        "openingHoursSpecification": [
          {
            "@type": "OpeningHoursSpecification",
            "dayOfWeek": [
              "Monday",
              "Tuesday",
              "Wednesday",
              "Thursday",
              "Friday",
              "Saturday"
            ],
            "opens": "09:00",
            "closes": "19:00"
          }
        ],
        "url": "https://gofixmyphone.com",
        "image": "https://placehold.co/1200x630/E0E7FF/1E40AF?text=fixmyPhone",
        "priceRange": "$$",
        "service": {
          "@type": "Service",
          "name": "Mobile Phone Repair with Free Pick-up and Delivery",
          "description": "Comprehensive repair services for smartphones, including screen, battery, and water damage, with the convenience of doorstep service."
        }
      }
    </script>

    <!-- Tailwind CSS, Font Awesome, and Google Fonts -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
      }
      .sticky-header {
        transition: all 0.3s ease-in-out;
      }
      .icon-service,
      .post-card {
        transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
      }
      .icon-service:hover,
      .post-card:hover {
        transform: translateY(-8px) scale(1.05);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
          0 10px 10px -5px rgba(0, 0, 0, 0.04);
      }
      .quote-modal {
        transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
      }
      .scroll-to-top {
        transition: opacity 0.3s, visibility 0.3s;
      }
      .mobile-menu-animation {
        transition: max-height 0.3s ease-in-out;
        max-height: 0;
        overflow: hidden;
      }
      .mobile-menu-animation.active {
        max-height: 500px;
      }
      .fade-in {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
      }
      .fade-in.is-visible {
        opacity: 1;
        transform: translateY(0);
      }
      .animated-button {
        transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
      }
      .animated-button:hover {
        transform: scale(1.05);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
          0 4px 6px -2px rgba(0, 0, 0, 0.05);
      }
      .modal-content-transition {
        transition: transform 0.3s ease-in-out;
      }
    </style>
  </head>

  <body class="bg-gray-50 text-gray-800">
    <!-- Dismissible Discount Banner -->
    <div
      id="discount-banner"
      class="bg-yellow-400 text-center text-sm font-semibold py-2 px-6 flex justify-center items-center relative"
    >
      <p>ðŸŽ‰ Get 10% off your first repair! Use code: FIX10</p>
      <button
        id="dismiss-banner"
        class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-800 hover:text-gray-600"
      >
        <i class="fas fa-times"></i>
      </button>
    </div>

    <!-- Sticky Header -->
    <header
      id="header"
      class="sticky-header fixed top-0 left-0 w-full z-40 bg-white shadow-md"
    >
      <nav
        class="container mx-auto px-6 py-4 flex justify-between items-center"
      >
        <a href="#" class="flex items-center space-x-2">
          <span class="text-2xl font-bold text-blue-600">fixmyPhone</span>
        </a>
        <div class="hidden md:flex items-center space-x-6">
          <a
            href="#how-it-works"
            class="text-gray-600 hover:text-blue-600 transition-colors duration-200"
            >How It Works</a
          >
          <a
            href="#services"
            class="text-gray-600 hover:text-blue-600 transition-colors duration-200"
            >Services</a
          >
          <a
            href="blog.html"
            class="text-gray-600 hover:text-blue-600 transition-colors duration-200"
            >Blog</a
          >
          <a
            href="contact.html"
            class="text-gray-600 hover:text-blue-600 transition-colors duration-200"
            >Contact</a
          >
          <a
            href="repair_phone.html"
            class="bg-blue-600 text-white font-semibold py-2 px-4 rounded-full shadow-md hover:bg-blue-700 animated-button"
            >Book Repair Now</a
          >
        </div>
        <!-- Mobile Menu Button -->
        <button
          id="mobile-menu-btn"
          class="md:hidden text-gray-600 hover:text-blue-600"
        >
          <i class="fas fa-bars text-2xl"></i>
        </button>
      </nav>
      <!-- Mobile Menu -->
      <div
        id="mobile-menu"
        class="md:hidden bg-white shadow-lg py-4 mobile-menu-animation"
      >
        <a
          href="#how-it-works"
          class="block px-6 py-2 text-gray-600 hover:bg-gray-100"
          >How It Works</a
        >
        <a
          href="#services"
          class="block px-6 py-2 text-gray-600 hover:bg-gray-100"
          >Services</a
        >
        <a
          href="blog.html"
          class="block px-6 py-2 text-gray-600 hover:bg-gray-100"
          >Blog</a
        >
        <a
          href="contact.html"
          class="block px-6 py-2 text-gray-600 hover:bg-gray-100"
          >Contact</a
        >
        <a
          href="repair_phone.html"
          class="block px-6 py-2 text-blue-600 font-semibold hover:bg-gray-100"
          >Book Repair Now</a
        >
      </div>
    </header>

    <main>
      <!-- Hero Section -->
      <section
        class="bg-blue-50 pt-32 pb-20 lg:pt-40 lg:pb-24"
        aria-labelledby="hero-heading"
      >
        <div class="container mx-auto px-6 text-center">
          <h1
            id="hero-heading"
            class="text-4xl lg:text-6xl font-extrabold text-gray-900 leading-tight"
          >
            Expert Phone Repair with Free Pick-up & Delivery in Mysore
          </h1>
          <p class="mt-4 text-lg text-gray-600 max-w-2xl mx-auto">
            Cracked screens, battery issues, or water damage? Get your phone
            fixed without leaving home. We offer professional service with the
            convenience of free doorstep pick-up and delivery.
          </p>
          <div class="mt-8 flex justify-center flex-wrap gap-4">
            <a
              href="repair_phone.html"
              class="bg-blue-600 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-blue-700 transition-all duration-300 transform hover:scale-105 animated-button"
            >
              Book Repair Now
            </a>
            <button
              id="hero-quote-btn"
              class="bg-transparent border-2 border-blue-600 text-blue-600 font-bold py-3 px-8 rounded-full shadow-lg hover:bg-blue-600 hover:text-white transition-all duration-300 transform hover:scale-105 animated-button"
            >
              Get a Free Quote
            </button>
          </div>
        </div>
      </section>

      <!-- How It Works Section -->
      <section id="how-it-works" class="py-16 md:py-24 bg-white fade-in">
        <div class="container mx-auto px-6">
          <div class="text-center mb-12">
            <h2 class="text-3xl lg:text-4xl font-extrabold text-gray-900">
              Your Hassle-Free Repair in 3 Easy Steps
            </h2>
            <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">
              We combine expert service with unmatched convenience. Get your
              phone fixed without ever leaving your home.
            </p>
          </div>
          <div
            class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center max-w-5xl mx-auto"
          >
            <!-- Step 1 -->
            <div class="p-6">
              <div
                class="flex items-center justify-center h-16 w-16 bg-blue-100 text-blue-600 rounded-full mx-auto mb-4"
              >
                <i class="fas fa-file-invoice text-2xl"></i>
              </div>
              <h3 class="text-xl font-semibold mb-2">1. Get Your Free Quote</h3>
              <p class="text-gray-600">
                Tell us your issue via our simple online form. We'll quickly
                provide a transparent, affordable estimate.
              </p>
            </div>
            <!-- Step 2 -->
            <div class="p-6">
              <div
                class="flex items-center justify-center h-16 w-16 bg-blue-100 text-blue-600 rounded-full mx-auto mb-4"
              >
                <i class="fas fa-phone-volume text-2xl"></i>
              </div>
              <h3 class="text-xl font-semibold mb-2">2. We'll Contact You</h3>
              <p class="text-gray-600">
                An expert will call you to confirm details, answer questions,
                and schedule a convenient pick-up time.
              </p>
            </div>
            <!-- Step 3 -->
            <div class="p-6">
              <div
                class="flex items-center justify-center h-16 w-16 bg-blue-100 text-blue-600 rounded-full mx-auto mb-4"
              >
                <i class="fas fa-truck-fast text-2xl"></i>
              </div>
              <h3 class="text-xl font-semibold mb-2">
                3. Free Pick-up & Delivery
              </h3>
              <p class="text-gray-600">
                We come to your doorstep, securely pick up your device, repair
                it, and deliver it back, good as new.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Services Section -->
      <section id="services" class="py-20 bg-gray-100 fade-in">
        <div class="container mx-auto px-6">
          <h2 class="text-3xl font-bold text-center mb-4">Our Services</h2>
          <p class="text-center text-gray-600 mb-12">
            We offer a wide range of repair services for all major phone brands.
          </p>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
            <div
              class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition-shadow duration-300 text-center icon-service"
            >
              <div class="text-5xl text-blue-500 mb-4">
                <i class="fas fa-mobile-alt"></i>
              </div>
              <h3 class="text-xl font-semibold mb-2">Screen Replacement</h3>
              <p class="text-gray-600">
                Cracked screen? We offer fast and affordable screen replacement
                with high-quality parts.
              </p>
            </div>
            <div
              class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition-shadow duration-300 text-center icon-service"
            >
              <div class="text-5xl text-blue-500 mb-4">
                <i class="fas fa-battery-half"></i>
              </div>
              <h3 class="text-xl font-semibold mb-2">Battery Replacement</h3>
              <p class="text-gray-600">
                Is your phone's battery draining too fast? Get a new one
                installed in minutes.
              </p>
            </div>
            <div
              class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition-shadow duration-300 text-center icon-service"
            >
              <div class="text-5xl text-blue-500 mb-4">
                <i class="fas fa-charging-station"></i>
              </div>
              <h3 class="text-xl font-semibold mb-2">Charging Port Repair</h3>
              <p class="text-gray-600">
                Trouble charging your device? We'll fix or replace your charging
                port quickly.
              </p>
            </div>
            <div
              class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition-shadow duration-300 text-center icon-service"
            >
              <div class="text-5xl text-blue-500 mb-4">
                <i class="fas fa-water"></i>
              </div>
              <h3 class="text-xl font-semibold mb-2">Water Damage Repair</h3>
              <p class="text-gray-600">
                Accidentally dropped your phone in water? Bring it to us
                immediately for a full diagnosis.
              </p>
            </div>
            <!-- New Services Start Here -->
            <div
              class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition-shadow duration-300 text-center icon-service"
            >
              <div class="text-5xl text-blue-500 mb-4">
                <i class="fas fa-camera-retro"></i>
              </div>
              <h3 class="text-xl font-semibold mb-2">Camera Repair</h3>
              <p class="text-gray-600">
                Blurry photos? We fix front and back cameras to make your
                pictures sharp again.
              </p>
            </div>
            <div
              class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition-shadow duration-300 text-center icon-service"
            >
              <div class="text-5xl text-blue-500 mb-4">
                <i class="fas fa-volume-up"></i>
              </div>
              <h3 class="text-xl font-semibold mb-2">Speaker & Mic Repair</h3>
              <p class="text-gray-600">
                Can't hear callers or they can't hear you? We repair and replace
                faulty speakers and microphones.
              </p>
            </div>
            <div
              class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition-shadow duration-300 text-center icon-service"
            >
              <div class="text-5xl text-blue-500 mb-4">
                <i class="fas fa-tablet-alt"></i>
              </div>
              <h3 class="text-xl font-semibold mb-2">Back Glass Repair</h3>
              <p class="text-gray-600">
                Cracked back glass? We can replace it to make your phone look
                brand new.
              </p>
            </div>
            <div
              class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition-shadow duration-300 text-center icon-service"
            >
              <div class="text-5xl text-blue-500 mb-4">
                <i class="fas fa-cogs"></i>
              </div>
              <h3 class="text-xl font-semibold mb-2">Software Issues</h3>
              <p class="text-gray-600">
                Phone stuck or running slow? We handle software updates, bug
                fixes, and data recovery.
              </p>
            </div>
            <!-- New Services End Here -->
          </div>
        </div>
      </section>

      <!-- Our Story Section -->
      <section id="our-story" class="py-20 bg-white fade-in">
        <div class="container mx-auto px-6">
          <div class="max-w-4xl mx-auto text-center">
            <h2 class="text-3xl lg:text-4xl font-extrabold text-gray-900 mb-4">
              Our Story: Your Local Mysore Repair Experts
            </h2>
            <p class="text-gray-600 mb-4 leading-relaxed">
              We started fixmyPhone right here in Mysore out of a passion for
              technology and a desire to help our community. We saw friends and
              family struggling with overpriced, unreliable repairs and long
              wait times. We knew there had to be a better way.
            </p>
            <p class="text-gray-600 leading-relaxed">
              Our mission is simple: to provide
              <strong class="font-semibold text-gray-800"
                >honest, expert, and incredibly convenient</strong
              >
              repair services. We believe that quality should be affordable and
              that getting your phone fixed shouldn't disrupt your day. That's
              why we introduced our free pick-up and delivery serviceâ€”to bring
              professional tech support right to your doorstep.
            </p>
          </div>
        </div>
      </section>
      <!-- End Our Story Section -->

      <!-- From the Blog Section -->
      <section id="blog-preview" class="py-20 bg-gray-100 fade-in">
        <div class="container mx-auto px-6">
          <div class="text-center mb-12">
            <h2 class="text-3xl lg:text-4xl font-extrabold text-gray-900">
              Phone Care & Repair Tips
            </h2>
            <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">
              Learn how to keep your device in top condition with our expert
              advice.
            </p>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- Blog Post Card 1 -->
            <a
              href="posts/10-tips-for-battery-life.html"
              class="block post-card bg-white rounded-xl shadow-md overflow-hidden"
            >
              <img
                src="https://placehold.co/600x400/1E40AF/fff?text=Battery+Life"
                alt="Illustration about phone battery life"
                class="w-full h-48 object-cover"
              />
              <div class="p-6">
                <h3 class="text-xl font-semibold mb-2 text-gray-800">
                  10 Tips to Extend Your Phone's Battery Life
                </h3>
                <p class="text-gray-600 text-sm">
                  A guide on how to make your battery last longer with simple
                  habit changes and settings adjustments...
                </p>
              </div>
            </a>
            <!-- Blog Post Card 2 -->
            <a
              href="posts/what-to-do-after-water-damage.html"
              class="block post-card bg-white rounded-xl shadow-md overflow-hidden"
            >
              <img
                src="https://placehold.co/600x400/1E40AF/fff?text=Water+Damage"
                alt="Illustration of a phone with water damage"
                class="w-full h-48 object-cover"
              />
              <div class="p-6">
                <h3 class="text-xl font-semibold mb-2 text-gray-800">
                  What to Do After Your Phone Gets Wet
                </h3>
                <p class="text-gray-600 text-sm">
                  An essential guide on the immediate do's and don'ts when your
                  smartphone takes an unexpected dive...
                </p>
              </div>
            </a>
            <!-- Blog Post Card 3 -->
            <a
              href="posts/are-screen-protectors-necessary.html"
              class="block post-card bg-white rounded-xl shadow-md overflow-hidden"
            >
              <img
                src="https://placehold.co/600x400/1E40AF/fff?text=Screen+Protectors"
                alt="Illustration of a screen protector being applied to a phone"
                class="w-full h-48 object-cover"
              />
              <div class="p-6">
                <h3 class="text-xl font-semibold mb-2 text-gray-800">
                  Are Screen Protectors Really Necessary?
                </h3>
                <p class="text-gray-600 text-sm">
                  We break down the pros and cons of using a screen protector
                  and which ones provide the best value...
                </p>
              </div>
            </a>
          </div>
          <div class="text-center mt-12">
            <a
              href="blog.html"
              class="bg-blue-600 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-blue-700 transition-all duration-300 transform hover:scale-105 animated-button"
            >
              Read More Articles
            </a>
          </div>
        </div>
      </section>
      <!-- End From the Blog Section -->

      <!-- Testimonials Section (Placeholder) -->
      <section id="testimonials" class="bg-white py-20 fade-in hidden">
        <div class="container mx-auto px-6">
          <h2 class="text-3xl font-bold text-center mb-4">
            What Our Customers Say
          </h2>
          <p class="text-center text-gray-600 mb-12">
            Don't just take our word for itâ€”read what people in Mysore have to
            say.
          </p>
          <!-- Testimonial content will go here -->
        </div>
      </section>

      <!-- FAQ Section (Placeholder) -->
      <section id="faq" class="bg-gray-100 py-20 fade-in hidden">
        <div class="container mx-auto px-6">
          <h2 class="text-3xl font-bold text-center mb-4">
            Frequently Asked Questions
          </h2>
          <p class="text-center text-gray-600 mb-12">
            Find quick answers to common questions about our services.
          </p>
          <!-- FAQ content will go here -->
        </div>
      </section>
    </main>

    <!-- Footer Section -->
    <footer class="bg-gray-800 text-white py-12">
      <div class="container mx-auto px-6">
        <div
          class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8 text-center md:text-left"
        >
          <div>
            <h4 class="text-xl font-semibold mb-4">Quick Links</h4>
            <ul class="space-y-2">
              <li>
                <a href="#how-it-works" class="hover:underline text-gray-300"
                  >How It Works</a
                >
              </li>
              <li>
                <a href="#services" class="hover:underline text-gray-300"
                  >Services</a
                >
              </li>
              <li>
                <a href="blog.html" class="hover:underline text-gray-300"
                  >Blog</a
                >
              </li>
              <li>
                <a href="contact.html" class="hover:underline text-gray-300"
                  >Contact</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-xl font-semibold mb-4">Contact Info</h4>
            <p class="mb-2 text-gray-300">
              # 2259, Bogadhi 2nd stage, Mysuru, Karnataka 570009
              <!-- Updated Address -->
            </p>
            <p class="mb-2 text-gray-300">Phone: +91 8310061934</p>
            <p class="mb-2 text-gray-300">Email: gofixmyphone@gmail.com</p>
          </div>
          <div>
            <h4 class="text-xl font-semibold mb-4">Follow Us</h4>
            <div class="flex justify-center md:justify-start space-x-4">
              <a href="#" class="text-gray-400 hover:text-white"
                ><i class="fab fa-facebook-f text-2xl"></i
              ></a>
              <a href="#" class="text-gray-400 hover:text-white"
                ><i class="fab fa-instagram text-2xl"></i
              ></a>
              <a href="#" class="text-gray-400 hover:text-white"
                ><i class="fab fa-twitter text-2xl"></i
              ></a>
            </div>
          </div>
        </div>
        <div class="mt-8 pt-8 border-t border-gray-700 text-center">
          <p class="text-gray-400">
            &copy; 2024 fixmyPhone. All rights reserved.
          </p>
        </div>
      </div>
    </footer>

    <!-- Quote Request Modal -->
    <div
      id="quote-modal"
      class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 invisible opacity-0 quote-modal"
    >
      <div
        class="bg-white rounded-xl shadow-2xl p-8 w-full max-w-lg mx-4 modal-content-transition scale-95"
      >
        <div class="flex justify-between items-center mb-6">
          <h3 class="text-2xl font-bold text-gray-800">Get a Quick Quote</h3>
          <button id="close-modal" class="text-gray-500 hover:text-gray-800">
            <i class="fas fa-times text-2xl"></i>
          </button>
        </div>
        <!-- Form Start -->
        <form id="modal-quote-form" class="space-y-4">
          <div>
            <label
              for="modal-name"
              class="block text-sm font-semibold text-gray-700 mb-1"
              >Full Name</label
            >
            <input
              type="text"
              id="modal-name"
              name="name"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              required
            />
          </div>
          <div>
            <label
              for="modal-phone"
              class="block text-sm font-semibold text-gray-700 mb-1"
              >Phone Number</label
            >
            <input
              type="tel"
              id="modal-phone"
              name="phone"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              required
            />
          </div>
          <div>
            <label
              for="modal-device"
              class="block text-sm font-semibold text-gray-700 mb-1"
              >Device (e.g., iPhone 13)</label
            >
            <input
              type="text"
              id="modal-device"
              name="device"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              required
            />
          </div>
          <div>
            <label
              for="modal-issue"
              class="block text-sm font-semibold text-gray-700 mb-1"
              >Describe the Issue</label
            >
            <textarea
              id="modal-issue"
              name="issue"
              rows="3"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              placeholder="E.g., Cracked screen, battery drains fast..."
              required
            ></textarea>
          </div>
          <button
            type="submit"
            id="modal-submit-btn"
            class="w-full bg-blue-600 text-white font-semibold py-3 rounded-lg hover:bg-blue-700 transition-colors"
          >
            Submit Request
          </button>
          <p
            id="modal-form-error"
            class="text-red-500 text-sm mt-2 text-center hidden"
          ></p>
        </form>
        <!-- Form End -->
      </div>
    </div>

    <!-- Scroll to Top Button -->
    <button
      id="back-to-top"
      class="fixed bottom-6 right-6 bg-blue-600 text-white w-12 h-12 rounded-full shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 invisible opacity-0 scroll-to-top"
    >
      <i class="fas fa-arrow-up"></i>
    </button>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
      import {
        getFirestore,
        collection,
        addDoc,
        serverTimestamp,
      } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

      // --- Firebase Configuration ---
      console.log("[Index] Script loaded. Checking Firebase config..."); // Debug Log
      const firebaseConfig = {
        apiKey: "AIzaSyAPwUjYPD5CzGIfT_6KqkpdLKnUNURSIs8",
        authDomain: "fixmyphone-website-889b5.firebaseapp.com",
        projectId: "fixmyphone-website-889b5",
        storageBucket: "fixmyphone-website-889b5.appspot.com",
        messagingSenderId: "619306240303",
        appId: "1:619306240303:web:f1e2445eec7bba1a09b9da",
      };
      const appId = "fixmyphone-website-889b5"; // Use projectId consistently
      let db;
      try {
        console.log("[Index] Attempting Firebase initialization..."); // Debug Log
        const app = initializeApp(firebaseConfig);
        db = getFirestore(app);
        console.log(
          "[Index] Firebase initialized successfully. db object:",
          db ? "Exists" : "Failed"
        ); // Debug Log
      } catch (e) {
        console.error("[Index] Firebase initialization failed:", e);
        db = null; // Ensure db is null on failure
      }

      document.addEventListener("DOMContentLoaded", () => {
        console.log("[Index] DOMContentLoaded event fired."); // Debug Log
        const mobileMenuBtn = document.getElementById("mobile-menu-btn");
        const mobileMenu = document.getElementById("mobile-menu");
        const dismissBannerBtn = document.getElementById("dismiss-banner");
        const discountBanner = document.getElementById("discount-banner");
        const backToTopBtn = document.getElementById("back-to-top");
        const quoteModal = document.getElementById("quote-modal");
        const closeModalButton = document.getElementById("close-modal");
        const quoteButtons = document.querySelectorAll("#hero-quote-btn"); // Corrected selector
        const modalQuoteForm = document.getElementById("modal-quote-form");
        const submitBtn = document.getElementById("modal-submit-btn"); // Define here for broader scope
        const errorP = document.getElementById("modal-form-error"); // Define here

        // Mobile Menu Toggle
        mobileMenuBtn.addEventListener("click", () =>
          mobileMenu.classList.toggle("active")
        );

        // Dismiss Banner
        if (dismissBannerBtn) {
          dismissBannerBtn.addEventListener(
            "click",
            () => (discountBanner.style.display = "none")
          );
        }

        // Quote Modal Logic
        const showModal = () => {
          console.log("[Index] showModal called"); // Debug Log
          quoteModal.classList.remove("invisible", "opacity-0");
          quoteModal
            .querySelector(".modal-content-transition")
            .classList.remove("scale-95");
          document.body.style.overflow = "hidden"; // Prevent background scroll
        };
        const hideModal = () => {
          console.log("[Index] hideModal called"); // Debug Log
          quoteModal.classList.add("invisible", "opacity-0");
          quoteModal
            .querySelector(".modal-content-transition")
            .classList.add("scale-95");
          document.body.style.overflow = ""; // Restore background scroll
          errorP.classList.add("hidden"); // Hide error on close
        };

        quoteButtons.forEach((button) =>
          button.addEventListener("click", showModal)
        );
        closeModalButton.addEventListener("click", hideModal);
        quoteModal.addEventListener("click", (e) => {
          if (e.target === quoteModal) hideModal(); // Close if background clicked
        });

        // Modal Form Submission
        modalQuoteForm.addEventListener("submit", async (e) => {
          e.preventDefault(); // Prevent default form submission which causes page reload
          console.log("[Index] Modal form submitted."); // Debug Log

          // Basic HTML5 validation check
          if (!modalQuoteForm.checkValidity()) {
            console.log("[Index] Form invalid (HTML5 check). Showing error."); // Debug Log
            errorP.textContent = "Please fill out all required fields.";
            errorP.classList.remove("hidden");
            return; // Stop submission if basic validation fails
          }

          // More specific validation (e.g., phone number format - adapt regex if needed)
          const phoneValue = document.getElementById("modal-phone").value;
          if (!/^\d{10}$/.test(phoneValue)) {
            // Example: 10-digit number
            console.log("[Index] Form invalid (Phone regex). Showing error."); // Debug Log
            errorP.textContent = "Please enter a valid 10-digit phone number.";
            errorP.classList.remove("hidden");
            return;
          }

          console.log(
            "[Index] Form appears valid. Disabling button, showing spinner."
          ); // Debug Log
          submitBtn.disabled = true;
          submitBtn.textContent = "Submitting...";
          errorP.classList.add("hidden"); // Hide previous errors

          if (!db) {
            console.error(
              "[Index] Firestore db object is null. Cannot submit."
            ); // Debug Log
            errorP.textContent =
              "Database connection failed. Please try again later.";
            errorP.classList.remove("hidden");
            submitBtn.disabled = false;
            submitBtn.textContent = "Submit Request";
            return;
          }

          const formData = {
            name: document.getElementById("modal-name").value,
            phone: phoneValue, // Use validated value
            email: "", // Modal doesn't have an email field, can be added if needed
            device: document.getElementById("modal-device").value,
            services: document.getElementById("modal-issue").value,
            status: "New",
            submittedAt: serverTimestamp(),
          };
          console.log("[Index] Form data prepared:", formData); // Debug Log

          try {
            const collectionPath = `artifacts/${appId}/public/data/quoteRequests`;
            console.log(
              "[Index] Attempting to add document to collection:",
              collectionPath
            ); // Debug Log
            const quotesCollectionRef = collection(
              db,
              "artifacts",
              appId,
              "public",
              "data",
              "quoteRequests"
            );

            // Add a timeout promise
            const timeoutPromise = new Promise((_, reject) =>
              setTimeout(
                () => reject(new Error("Request timed out after 10 seconds.")),
                10000
              )
            );

            const addDocPromise = addDoc(quotesCollectionRef, formData);

            // Race the addDoc operation against the timeout
            const docRef = await Promise.race([addDocPromise, timeoutPromise]);

            if (!docRef || !docRef.id) {
              console.error(
                "[Index] Firestore addDoc returned invalid response:",
                docRef
              ); // Debug Log
              throw new Error("Database returned an invalid response.");
            }

            console.log(
              "[Index] Document added successfully. Doc ID:",
              docRef.id
            ); // Debug Log
            // Redirect ONLY on success
            window.location.href = `quote-confirmation.html?id=${docRef.id}`;
          } catch (error) {
            console.error("[Index] Error or timeout submitting quote:", error); // Debug Log
            console.log("[Index] Full error object:", error); // Log the full error object

            if (error.message && error.message.includes("timed out")) {
              errorP.textContent =
                "Request timed out. Please check network and try again.";
            } else {
              errorP.textContent =
                "Failed to submit request. Please try again. " +
                (error.message ? `(${error.message})` : ""); // Show error message
            }
            errorP.classList.remove("hidden");
            // Re-enable button ONLY on failure
            submitBtn.disabled = false;
            submitBtn.textContent = "Submit Request";
          }
        });

        // Scroll to Top Button Logic
        window.addEventListener("scroll", () => {
          if (window.scrollY > 300) {
            backToTopBtn.classList.remove("invisible", "opacity-0");
            backToTopBtn.classList.add("visible", "opacity-100");
          } else {
            backToTopBtn.classList.remove("visible", "opacity-100");
            backToTopBtn.classList.add("invisible", "opacity-0");
          }
        });
        backToTopBtn.addEventListener("click", () =>
          window.scrollTo({ top: 0, behavior: "smooth" })
        );

        // Fade-in Animation on Scroll
        const observerOptions = {
          root: null,
          rootMargin: "0px",
          threshold: 0.1,
        };
        const observer = new IntersectionObserver((entries, observer) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add("is-visible");
              observer.unobserve(entry.target);
            }
          });
        }, observerOptions);
        document.querySelectorAll(".fade-in").forEach((section) => {
          observer.observe(section);
        });
        console.log("[Index] DOMContentLoaded setup complete."); // Debug Log
      });
    </script>
  </body>
</html>
